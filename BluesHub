-- BluesHub by james23
-- Features: Auto Quest, All Boss Killing, Auto Fruit Collection, ESP Fruits, Auto Teleport to Fruits, Draggable and Minimizable UI with BH Button, Auto Tap for Weapons
-- DISCLAIMER: Use at your own risk. This script might violate Roblox's Terms of Service.

-- Services
local player = game.Players.LocalPlayer
local replicatedStorage = game:GetService("ReplicatedStorage")
local workspace = game:GetService("Workspace")
local userInputService = game:GetService("UserInputService")
local runService = game:GetService("RunService")

-- Toggle States
local toggles = {
    autoFarm = true,
    autoFruitCollect = true,
    espFruits = true,
    autoTeleportFruits = true,
    autoTap = true
}

-- Quest Givers and Bosses
local questGivers = {
    "Bandit Quest Giver",
    "Saber Expert",
    "Jungle Quest Giver",
    "Pirate Adventurer",
    "Marine Recruiter",
    "Snow Bandit Quest Giver",
    "Prison Guard",
    "Colosseum Quest Giver",
    "Shanda Quest Giver",
    "Sky Adventurer",
    "Water Quest Giver",
    "Ice Admiral Quest Giver",
    "Darkbeard Quest Giver",
    "Don Swan Quest Giver",
    "Cursed Captain Quest Giver",
    "Soul Reaper Quest Giver",
    "Cake Queen Quest Giver",
    "Island Empress Quest Giver",
    "Rip Indra Quest Giver",
    "Kilo Admiral Quest Giver",
    "Order Quest Giver",
    "Stone Quest Giver",
    "Beautiful Pirate Quest Giver"
}

local bossList = {
    "Saber Expert",
    "Ice Admiral",
    "Darkbeard",
    "Don Swan",
    "Soul Reaper",
    "Cursed Captain",
    "Cake Queen",
    "Rip Indra",
    "Stone",
    "Island Empress",
    "Order",
    "Kilo Admiral",
    "Awakened Ice Admiral",
    "Beautiful Pirate"
}

-- Function to Toggle Features
local function ToggleFeature(feature)
    toggles[feature] = not toggles[feature]
    print("[BluesHub] " .. feature .. " is now " .. (toggles[feature] and "ON" or "OFF"))
end

-- ESP Fruits Functionality
local function ESPFruits()
    while toggles.espFruits do
        for _, fruit in pairs(workspace:GetChildren()) do
            if fruit:IsA("Model") and fruit:FindFirstChild("Fruit") then
                if not fruit:FindFirstChild("BillboardGui") then
                    local esp = Instance.new("BillboardGui", fruit)
                    esp.Size = UDim2.new(0, 200, 0, 50)
                    esp.Adornee = fruit:FindFirstChild("Fruit")
                    esp.AlwaysOnTop = true

                    local text = Instance.new("TextLabel", esp)
                    text.Size = UDim2.new(1, 0, 1, 0)
                    text.BackgroundTransparency = 1
                    text.Text = "Fruit: " .. fruit.Name
                    text.TextColor3 = Color3.new(1, 0, 0)
                    text.TextScaled = true
                end
            end
        end
        wait(1)
    end
end

-- Auto Teleport to Fruits
local function AutoTeleportFruits()
    while toggles.autoTeleportFruits do
        local closestFruit, closestDistance = nil, math.huge
        for _, fruit in pairs(workspace:GetChildren()) do
            if fruit:IsA("Model") and fruit:FindFirstChild("Fruit") then
                local distance = (player.Character.HumanoidRootPart.Position - fruit.PrimaryPart.Position).Magnitude
                if distance < closestDistance then
                    closestFruit, closestDistance = fruit, distance
                end
            end
        end
        if closestFruit then
            print("[BluesHub] Teleporting to fruit: " .. closestFruit.Name)
            player.Character.HumanoidRootPart.CFrame = closestFruit.PrimaryPart.CFrame
            wait(3)
        else
            print("[BluesHub] No fruits found at the moment.")
        end
        wait(5)
    end
end

-- Auto Fruit Collection
local function AutoFruitCollection()
    while toggles.autoFruitCollect do
        print("[BluesHub] Collecting fruits...")
        wait(5)
    end
end

-- Auto Tap Weapons Functionality
local function AutoTapWeapons()
    runService.RenderStepped:Connect(function()
        if toggles.autoTap then
            local character = player.Character
            if character and character:FindFirstChild("Humanoid") and character:FindFirstChild("HumanoidRootPart") then
                local tool = character:FindFirstChildOfClass("Tool") -- Get the currently equipped tool
                if tool and (tool.ToolTip:match("Melee") or tool.ToolTip:match("Sword") or tool.ToolTip:match("Gun") or tool.ToolTip:match("Fruit")) then
                    replicatedStorage.Remotes.CommF_:InvokeServer("Attack", tool.Name) -- Simulate attack
                end
            end
        end
    end)
end

-- Create UI
local screenGui = Instance.new("ScreenGui", game.CoreGui)
screenGui.Name = "BluesHub"

local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 400, 0, 350)
mainFrame.Position = UDim2.new(0.5, -200, 0.5, -175)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.BorderSizePixel = 0
mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
mainFrame.Active = true -- Enable input detection for dragging
mainFrame.Draggable = true -- Make it draggable

local titleBar = Instance.new("Frame", mainFrame)
titleBar.Size = UDim2.new(1, 0, 0, 50)
titleBar.BackgroundColor3 = Color3.fromRGB(200, 30, 30)
titleBar.BorderSizePixel = 0

local titleLabel = Instance.new("TextLabel", titleBar)
titleLabel.Size = UDim2.new(1, -50, 1, 0)
titleLabel.Position = UDim2.new(0, 10, 0, 0)
titleLabel.Text = "BluesHub"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.TextScaled = true
titleLabel.Font = Enum.Font.SourceSansBold
titleLabel.BackgroundTransparency = 1

-- Close Button
local closeButton = Instance.new("TextButton", titleBar)
closeButton.Size = UDim2.new(0, 40, 0, 40)
closeButton.Position = UDim2.new(1, -45, 0.5, -20)
closeButton.Text = "X"
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.TextScaled = true
closeButton.Font = Enum.Font.SourceSansBold
closeButton.BackgroundColor3 = Color3.fromRGB(200, 30, 30)
closeButton.BorderSizePixel = 0
closeButton.AnchorPoint = Vector2.new(0.5, 0.5)
closeButton.MouseButton1Click:Connect(function()
    screenGui:Destroy()
end)

-- Minimize BH Button
local isMinimized = false
local bhButton = Instance.new("TextButton", screenGui)
bhButton.Size = UDim2.new(0, 50, 0, 50)
bhButton.Position = UDim2.new(0, 10, 0, 10)
bhButton.Text = "BH"
bhButton.TextColor3 = Color3.fromRGB(255, 255, 255)
bhButton.TextScaled = true
bhButton.Font = Enum.Font.Arcade -- Minecraft-style font
bhButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
bhButton.BorderSizePixel = 0
bhButton.Visible = false -- Hidden initially

bhButton.MouseButton1Click:Connect(function()
    isMinimized = not isMinimized
    if isMinimized then
        mainFrame.Visible = true
        bhButton.Visible = false
    end
end)

-- Minimize Button
local minimizeButton = Instance.new("TextButton", titleBar)
minimizeButton.Size = UDim2.new(0, 40, 0, 40)
minimizeButton.Position = UDim2.new(1, -90, 0.5, -20)
minimizeButton.Text = "-"
minimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
minimizeButton.TextScaled = true
minimizeButton.Font = Enum.Font.SourceSansBold
minimizeButton.BackgroundColor3 = Color3.fromRGB(200, 30, 30)
minimizeButton.BorderSizePixel = 0
minimizeButton.AnchorPoint = Vector2.new(0.5, 0.5)

minimizeButton.MouseButton1Click:Connect(function()
    isMinimized = true
    mainFrame.Visible = false
    bhButton.Visible = true
end)

-- Button Container
local buttonContainer = Instance.new("Frame", mainFrame)
buttonContainer.Size = UDim2.new(1, -20, 1, -70)
buttonContainer.Position = UDim2.new(0, 10, 0, 60)
buttonContainer.BackgroundTransparency = 1

-- Function to Create Toggle Buttons
local function CreateToggleButton(name, feature)
    local button = Instance.new("TextButton", buttonContainer)
    button.Size = UDim2.new(1, -20, 0, 40)
    button.Position = UDim2.new(0.5, 0, 0, (#buttonContainer:GetChildren() - 1) * 50)
    button.AnchorPoint = Vector2.new(0.5, 0)
    button.Text = name .. ": OFF"
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextScaled = true
    button.Font = Enum.Font.SourceSansBold
    button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    button.BorderSizePixel = 0

    button.MouseButton1Click:Connect(function()
        ToggleFeature(feature)
        button.Text = name .. ": " .. (toggles[feature] and "ON" or "OFF")
        if toggles[feature] then
            button.BackgroundColor3 = Color3.fromRGB(30, 200, 30)
        else
            button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
        end
        if feature == "espFruits" then
            spawn(ESPFruits)
        elseif feature == "autoTap" then
            AutoTapWeapons()
        end
    end)
end

-- Create Buttons
CreateToggleButton("Auto Farm", "autoFarm")
CreateToggleButton("Auto Fruit Collect", "autoFruitCollect")
CreateToggleButton("ESP Fruits", "espFruits")
CreateToggleButton("Auto Teleport Fruits", "autoTeleportFruits")
CreateToggleButton("Auto Tap", "autoTap")

print("[BluesHub] All features are loaded and ready!")
